<ion-header color="primary">
  <ion-toolbar color="primary">
    <ion-title color="primary">Alta cliente</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>

  <br>
  <img src="../../../assets/icon/iconLogoMovimiento.png" alt="" width="100px" height="100px" class="icon">

    <ion-card>

        <ion-item color="primary">
          <ion-label>Tipo:</ion-label>
          <ion-select [(ngModel)]="pickedName" interface="popover" placeholder="Seleccione" (ionChange)="pickerUser(pickedName)">
            <ion-select-option *ngFor="let usuario of listaPerfiles" value="{{usuario.perfil}}">{{usuario.perfil}}</ion-select-option>
          </ion-select>
        </ion-item>

    <div *ngIf="pickedName=='Anonimo'">
      <ion-item class="labels" fill="outline">
        <br>
        <ion-input type="text" [(ngModel)]="correo" placeholder="Correo..."></ion-input>
      </ion-item>
      <ion-item class="labels" >
        <br>
        <ion-input type="password" [(ngModel)]="contrasenia" placeholder="ContraseÃ±a..."></ion-input>
      </ion-item>
      <ion-button (click)="registrarAnonimo()" class="btnRegistro" expand="block">Registrarse</ion-button>
    </div>

    <div *ngIf="pickedName=='Cliente'">

      <form [formGroup]="miFormulario">

    <ion-item class="labels" fill="outline">
      <br>
      <ion-input type="text" [(ngModel)]="nombre"  formControlName="nombre" placeholder="Nombre..."></ion-input>
    </ion-item>
    <ion-item class="labels" >
      <br>
      <ion-input type="text" [(ngModel)]="apellido"  formControlName="apellido" placeholder="Apellido..."></ion-input>
    </ion-item>
    <ion-item class="labels" >
      <br>
      <ion-input type="text" [(ngModel)]="dni"  formControlName="dni" placeholder="DNI..."></ion-input>
    </ion-item>
    <ion-grid>
      <ion-row>
        <ion-col col-6>
          <ion-button (click)="escanearDni()" class="btnRegistro" expand="block">QR DNI</ion-button>
        </ion-col>
        <ion-col col-6>
          <ion-button (click)="capturarFoto()" class="btnRegistro" expand="block">Tomar foto</ion-button>
        </ion-col>
      </ion-row>
    </ion-grid>
    
    <ion-button (click)="registrarCiente()" class="btnRegistro" [disabled]="!miFormulario.valid" expand="block">Registrarse</ion-button>
    <br>
   
  </form>

  </div>

  
    </ion-card>

</ion-content>
